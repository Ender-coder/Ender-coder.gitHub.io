<!DOCTYPE html>
<html lang="en">
    <head>
  <!-- 元数据 -->
  <meta charset="utf-8">
  <link rel="icon" href="../images/spider-man.webp">
  <title>编译原理 复习 | 心之所向便是光</title>
  <meta name="author" content="Ender" />
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="robots" content="index,follow" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <meta name="format-detection" content="telphone=no, email=no" />
  
    <meta name="keywords" content="" />
  
  <meta name="description" content="前言&amp;emsp;&amp;emsp;这篇文章是《编译原理》课程的复习笔记，可以作为期末考试的复习资料。">
<meta property="og:type" content="article">
<meta property="og:title" content="编译原理 复习">
<meta property="og:url" content="http://ender-coder.github.io/2021/07/06/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%20%E5%A4%8D%E4%B9%A0%E9%A2%98/index.html">
<meta property="og:site_name" content="心之所向便是光">
<meta property="og:description" content="前言&amp;emsp;&amp;emsp;这篇文章是《编译原理》课程的复习笔记，可以作为期末考试的复习资料。">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://ender-coder.github.io/images/spider-man.webp">
<meta property="article:published_time" content="2021-07-06T10:00:00.000Z">
<meta property="article:modified_time" content="2021-07-16T10:41:03.653Z">
<meta property="article:author" content="Ender">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://ender-coder.github.io/images/spider-man.webp">
<meta name="twitter:site" content="@undefined">
  
  <!-- 站点验证相关 -->
  
    
    
    
  
  <!-- 样式表文件 -->
  <link rel="stylesheet" id="kratos-css" href="/css/kratosr.css" type="text/css" media="all">
  
    <link rel="stylesheet" id="highlight-css" href="/css/highlight/night-eighties.min.css" type="text/css" media="all">
  
  
  <link rel="stylesheet" id="fontawe-css" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.css" type="text/css" media="all">
  <link rel="stylesheet" id="nprogress-css" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css" type="text/css" media="all">
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">
  
  
    <link rel="stylesheet" id="darkmode-css" href="/css/kr-dark.css" type="text/css" media="all">
  
  <!-- 不得不预先加载的一些JS文件 -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
  
    <script src="https://cdn.jsdelivr.net/npm/qrcode_js@1.0.0/qrcode.min.js"></script>
  
  <script src="//cdn.jsdelivr.net/gh/stevenjoezhang/live2d-widget/autoload.js"></script>
<meta name="generator" content="Hexo 5.4.0"></head>


    <body class="custom-background">
        <div id="kratos-wrapper">
    <div id="kratos-page">
        <div id="kratos-header">
            <header id="kratos-desktop-topnav" class="kratos-topnav">
                <div class="container">
                    <div class="nav-header">
                        <nav id="kratos-menu-wrap">
                            <ul id="kratos-primary-menu" class="sf-menu">
                                
                                    
                                        <li><a href="/"><i class="fas fa-home fa-fw"></i>首页</a></li>
                                    
                                
                                    
                                        <li><a href="/archives/"><i class="fas fa-folder fa-fw"></i>归档</a></li>
                                    
                                
                                    
                                        <li><a href="/friends/"><i class="fas fa-comments fa-fw"></i>友链</a></li>
                                    
                                
                                    
                                        <li><a href="/about"><i class="fas fa-paper-plane fa-fw"></i>关于</a></li>
                                    
                                
                            </ul>
                        </nav>
                    </div>
                </div>
            </header>
            <header id="kratos-mobile-topnav" class="kratos-topnav">
                <div class="container">
                    <div class="color-logo"><a href="/">心之所向便是光</a></div>
                    <div class="nav-toggle">
                        <a class="kratos-nav-toggle js-kratos-nav-toggle">
                            <i></i>
                        </a>
                    </div>
                </div>
            </header>
        </div>
        <div class="kratos-start kratos-hero-2">
            <!-- <div class="kratos-overlay"></div> -->
            <div class="kratos-cover kratos-cover-2 text-center">
                <div class="desc desc2 animate-box">
                    <a href="/">
                        <h2>心之所向便是光</h2> <br />
                        <span></span>
                    </a>
                </div>
            </div>
        </div>

        <div id="kratos-blog-post">
            <div class="container">
                <div id="main" class="row">
                    

        <section class="col-md-8">
    <article>
        <div class="kratos-hentry kratos-post-inner clearfix">
            <header class="kratos-entry-header">
                
                    <h1 class="kratos-entry-title text-center">编译原理 复习</h1>
                
                
                <ul class="kratos-post-meta text-center">
                    <li><i class="fas fa-calendar-alt"></i> 2021-07-06</li>
                    <li><i class="fas fa-user"></i> 作者 Ender</li>
                    <li>
                        <i class="fas fa-edit"></i> 
                        
                        
                            7.91K
                        
                        字
                    </li>
                    
                        <li id="/2021/07/06/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%20%E5%A4%8D%E4%B9%A0%E9%A2%98/" class="leancloud_visitors" data-flag-title="编译原理 复习">
                            <i class="fas fa-eye"></i>
                            <span class="leancloud-visitors-count"> </span> 次阅读
                        </li>
                        
                    
                </ul>
            </header>
            <div class="kratos-post-content">
                <div id="expire-alert" class="alert alert-warning hidden" role="alert">
                    本文最后编辑于 <time datetime="1626432063653"></time> 前，其中的内容可能需要更新。
                </div>
                
                    <div class="kratos-post-inner-toc">
                        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86-%E5%A4%A7%E7%BA%B2"><span class="toc-number">2.</span> <span class="toc-text">编译原理 大纲</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%AA%E8%AE%BA"><span class="toc-number">3.</span> <span class="toc-text">绪论</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E8%AF%91-%E5%AE%9A%E4%B9%89"><span class="toc-number">3.1.</span> <span class="toc-text">编译 定义</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%8D%E6%B3%95%E5%88%86%E6%9E%90%EF%BC%88Lexical-Analysis%EF%BC%89"><span class="toc-number">4.</span> <span class="toc-text">词法分析（Lexical Analysis）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89"><span class="toc-number">4.1.</span> <span class="toc-text">定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%A7%E8%A1%8C"><span class="toc-number">4.2.</span> <span class="toc-text">执行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%88RE%EF%BC%89"><span class="toc-number">4.3.</span> <span class="toc-text">正则表达式（RE）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E6%AF%8D%E8%A1%A8%E8%BF%90%E7%AE%97"><span class="toc-number">4.4.</span> <span class="toc-text">字母表运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%89%E7%A9%B7%E8%87%AA%E5%8A%A8%E6%9C%BA%EF%BC%88Finite-Automata%EF%BC%89"><span class="toc-number">4.5.</span> <span class="toc-text">有穷自动机（Finite Automata）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89-1"><span class="toc-number">4.5.1.</span> <span class="toc-text">定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%8A%B6%E6%80%81%E8%BD%AC%E7%A7%BB"><span class="toc-number">4.5.2.</span> <span class="toc-text">状态转移</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#NFA%EF%BC%88%E4%B8%8D%E7%A1%AE%E5%AE%9A%E6%9C%89%E7%A9%B7%E8%87%AA%E5%8A%A8%E6%9C%BA%EF%BC%89"><span class="toc-number">4.5.3.</span> <span class="toc-text">NFA（不确定有穷自动机）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DFA%EF%BC%88%E7%A1%AE%E5%AE%9A%E6%9C%89%E7%A9%B7%E8%87%AA%E5%8A%A8%E6%9C%BA%EF%BC%89"><span class="toc-number">4.5.4.</span> <span class="toc-text">DFA（确定有穷自动机）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%8D%E6%B3%95%E5%88%86%E6%9E%90%E8%BF%87%E7%A8%8B"><span class="toc-number">4.6.</span> <span class="toc-text">词法分析过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RE-%E8%BD%AC%E6%8D%A2%E4%B8%BA-NFA"><span class="toc-number">4.7.</span> <span class="toc-text">RE 转换为 NFA</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#NFA-%E8%BD%AC%E6%8D%A2%E4%B8%BA-DFA"><span class="toc-number">4.8.</span> <span class="toc-text">NFA 转换为 DFA</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DFA-%E7%9A%84%E6%9C%80%E5%B0%8F%E5%8C%96"><span class="toc-number">4.9.</span> <span class="toc-text">DFA 的最小化</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90%EF%BC%88Syntax-Analysis%EF%BC%89"><span class="toc-number">5.</span> <span class="toc-text">语法分析（Syntax Analysis）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89-2"><span class="toc-number">5.1.</span> <span class="toc-text">定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E6%B3%95%EF%BC%88Grammar%EF%BC%89"><span class="toc-number">5.2.</span> <span class="toc-text">文法（Grammar）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89-3"><span class="toc-number">5.2.1.</span> <span class="toc-text">定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E6%B3%95%E6%8E%A8%E5%AF%BC"><span class="toc-number">5.2.2.</span> <span class="toc-text">文法推导</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E6%B3%95%E5%BD%92%E7%BA%A6"><span class="toc-number">5.2.3.</span> <span class="toc-text">文法归约</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E6%9E%90%E6%A0%91"><span class="toc-number">5.2.4.</span> <span class="toc-text">分析树</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E6%B3%95%E7%B1%BB%E5%9E%8B"><span class="toc-number">5.2.5.</span> <span class="toc-text">文法类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B6%88%E9%99%A4%E4%BA%8C%E4%B9%89%E6%80%A7"><span class="toc-number">5.2.6.</span> <span class="toc-text">消除二义性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E5%88%86%E6%9E%90%EF%BC%88Top-Down%EF%BC%89"><span class="toc-number">5.3.</span> <span class="toc-text">自顶向下分析（Top-Down）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%B9%E7%82%B9"><span class="toc-number">5.3.1.</span> <span class="toc-text">特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%84%E6%B5%8B%E5%88%86%E6%9E%90"><span class="toc-number">5.3.2.</span> <span class="toc-text">预测分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LL-k-%E5%90%AB%E4%B9%89"><span class="toc-number">5.3.3.</span> <span class="toc-text">LL(k) 含义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LL-1-%E6%96%87%E6%B3%95"><span class="toc-number">5.3.4.</span> <span class="toc-text">LL(1) 文法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E4%BB%96-LL-%E6%96%87%E6%B3%95"><span class="toc-number">5.3.5.</span> <span class="toc-text">其他 LL 文法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%88%86%E6%9E%90%EF%BC%88Bottom-Up%EF%BC%89"><span class="toc-number">5.4.</span> <span class="toc-text">自底向上分析（Bottom-Up）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%B9%E7%82%B9-1"><span class="toc-number">5.4.1.</span> <span class="toc-text">特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A7%BB%E5%85%A5-%E5%BD%92%E7%BA%A6%EF%BC%88Shift-Reduce%EF%BC%89"><span class="toc-number">5.4.2.</span> <span class="toc-text">移入-归约（Shift-Reduce）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%A5%E6%9F%84%EF%BC%88Handle%EF%BC%89"><span class="toc-number">5.4.3.</span> <span class="toc-text">句柄（Handle）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LR-k-%E5%90%AB%E4%B9%89"><span class="toc-number">5.4.4.</span> <span class="toc-text">LR(k) 含义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LR-%E8%87%AA%E5%8A%A8%E6%9C%BA"><span class="toc-number">5.4.5.</span> <span class="toc-text">LR 自动机</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%A0%E7%A7%8D-LR-%E6%96%87%E6%B3%95"><span class="toc-number">5.4.6.</span> <span class="toc-text">几种 LR 文法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E4%B9%89%E5%88%86%E6%9E%90%EF%BC%88Semantic-Analysis%EF%BC%89"><span class="toc-number">6.</span> <span class="toc-text">语义分析（Semantic Analysis）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89-4"><span class="toc-number">6.1.</span> <span class="toc-text">定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%A6%E5%8F%B7%E8%A1%A8%EF%BC%88Symbol-Table%EF%BC%89"><span class="toc-number">6.2.</span> <span class="toc-text">符号表（Symbol Table）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89-5"><span class="toc-number">6.2.1.</span> <span class="toc-text">定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E5%8F%98%E9%87%8F%EF%BC%88Variable%EF%BC%89"><span class="toc-number">6.2.2.</span> <span class="toc-text">程序变量（Variable）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%A6%E5%8F%B7%E8%A1%A8%E4%BF%A1%E6%81%AF"><span class="toc-number">6.2.3.</span> <span class="toc-text">符号表信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%B4%E6%8A%A4"><span class="toc-number">6.2.4.</span> <span class="toc-text">维护</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%84"><span class="toc-number">6.2.5.</span> <span class="toc-text">结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E5%A4%9A%E4%B8%AA%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">6.2.6.</span> <span class="toc-text">处理多个作用域</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5"><span class="toc-number">6.2.7.</span> <span class="toc-text">类型检查</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%E5%88%B6%E5%AF%BC%E7%BF%BB%E8%AF%91%EF%BC%88Syntax-Directed-Translation%EF%BC%8CSDT%EF%BC%89"><span class="toc-number">7.</span> <span class="toc-text">语法制导翻译（Syntax Directed Translation，SDT）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89-6"><span class="toc-number">7.1.</span> <span class="toc-text">定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%E5%88%B6%E5%AF%BC%E5%AE%9A%E4%B9%89%EF%BC%88Syntax-Directed-Definitions%EF%BC%8CSDD%EF%BC%89"><span class="toc-number">7.2.</span> <span class="toc-text">语法制导定义（Syntax Directed Definitions，SDD）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89-7"><span class="toc-number">7.2.1.</span> <span class="toc-text">定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E6%B3%95%E7%AC%A6%E5%8F%B7%E7%9A%84%E5%B1%9E%E6%80%A7"><span class="toc-number">7.2.2.</span> <span class="toc-text">文法符号的属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%A7%E7%94%9F%E5%BC%8F%E4%B8%AD%E7%9A%84%E5%B1%9E%E6%80%A7%E4%BE%9D%E8%B5%96"><span class="toc-number">7.2.3.</span> <span class="toc-text">产生式中的属性依赖</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#S-%E5%B1%9E%E6%80%A7%E5%AE%9A%E4%B9%89"><span class="toc-number">7.2.4.</span> <span class="toc-text">S-属性定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#L-%E5%B1%9E%E6%80%A7%E5%AE%9A%E4%B9%89"><span class="toc-number">7.2.5.</span> <span class="toc-text">L-属性定义</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%E5%88%B6%E5%AF%BC%E7%BF%BB%E8%AF%91%E6%96%B9%E6%A1%88%EF%BC%88Syntax-Directed-Translation-Scheme%EF%BC%8CSDT%EF%BC%89"><span class="toc-number">7.3.</span> <span class="toc-text">语法制导翻译方案（Syntax Directed Translation Scheme，SDT）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89-8"><span class="toc-number">7.3.1.</span> <span class="toc-text">定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B7%E4%BD%93%E5%AE%9E%E7%8E%B0"><span class="toc-number">7.3.2.</span> <span class="toc-text">具体实现</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#S-SDD-%E5%88%B0-SDT-%E7%9A%84%E8%BD%AC%E6%8D%A2"><span class="toc-number">7.4.</span> <span class="toc-text">S-SDD 到 SDT 的转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#L-SDD-%E5%88%B0-SDT-%E7%9A%84%E8%BD%AC%E6%8D%A2"><span class="toc-number">7.5.</span> <span class="toc-text">L-SDD 到 SDT 的转换</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%AD%E9%97%B4%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90%EF%BC%88Intermediate-Code-Generation%EF%BC%89"><span class="toc-number">8.</span> <span class="toc-text">中间代码生成（Intermediate Code Generation）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89-9"><span class="toc-number">8.1.</span> <span class="toc-text">定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E5%9C%B0%E5%9D%80%E7%A0%81%EF%BC%88Three-Address-Code%EF%BC%8CTAC%EF%BC%89"><span class="toc-number">8.2.</span> <span class="toc-text">三地址码（Three-Address Code，TAC）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C"><span class="toc-number">8.2.1.</span> <span class="toc-text">操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%A7%E8%A1%8C-1"><span class="toc-number">8.2.2.</span> <span class="toc-text">执行</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E5%8D%95%E8%B5%8B%E5%80%BC%EF%BC%88Single-Static-Assignment%EF%BC%8CSSA%EF%BC%89"><span class="toc-number">8.3.</span> <span class="toc-text">静态单赋值（Single Static Assignment，SSA）</span></a></li></ol></li></ol>
                    </div>
                
                <hr />
                <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>&emsp;&emsp;这篇文章是《编译原理》课程的复习笔记，可以作为期末考试的复习资料。<br><span id="more"></span></p>
<h2 id="编译原理-大纲"><a href="#编译原理-大纲" class="headerlink" title="编译原理 大纲"></a>编译原理 大纲</h2><pre class="mermaid">graph TD
    SC(Source Code 源代码)-->LA
    subgraph Front End 前端
        LA[Lexical Analysis 词法分析]--Token Stream-->SA
        SA[Syntax Analysis 语法分析]--Syntax Tree-->SA'
    end
    subgraph Back End 后端
        SA'[Semantic Analysis 语义分析]--Syntax Tree-->ICG
        ICG[Intermediate Code Generation 中间代码生成]--IR-->CO
        CO[Code Optimization 代码优化]--IR-->CG
    end
        CG[Code Generation 目标代码生成]-->TC(Target Code 目标代码)</pre>

<h2 id="绪论"><a href="#绪论" class="headerlink" title="绪论"></a>绪论</h2><h3 id="编译-定义"><a href="#编译-定义" class="headerlink" title="编译 定义"></a>编译 定义</h3><p>将<strong>高级语言</strong>（源语言）翻译成<strong>汇编语言或机器语言</strong>（目标语言）的过程。</p>
<h2 id="词法分析（Lexical-Analysis）"><a href="#词法分析（Lexical-Analysis）" class="headerlink" title="词法分析（Lexical Analysis）"></a>词法分析（Lexical Analysis）</h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>扫描源程序的字符流，识别并分解出有词法意义的单词或符号（称为 token）</p>
<ul>
<li>输入：源程序</li>
<li>输出：token 序列（词法单元）</li>
<li>token 表示：<code>&lt;类别, 属性值&gt;</code><ul>
<li>保留字、标识符、常量、运算符等</li>
<li>将各成分按其在语言中的作用分类</li>
</ul>
</li>
</ul>
<p>例如 <code>z=1</code> 进行词法分析之后得到<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;Id, &#x27;z&#x27;&gt;</span><br><span class="line">&lt;Op, &#x27;=&#x27;&gt;</span><br><span class="line">&lt;Num, &#x27;1&#x27;&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="执行"><a href="#执行" class="headerlink" title="执行"></a>执行</h3><p>&emsp;&emsp;词法分析如何执行？</p>
<ul>
<li>识别子串所属的 token 类别</li>
<li>返回 token 单元</li>
</ul>
<p>问题：输入串具有二义性，如何进行识别？</p>
<h3 id="正则表达式（RE）"><a href="#正则表达式（RE）" class="headerlink" title="正则表达式（RE）"></a>正则表达式（RE）</h3><ul>
<li>Alphabet 字母表：一个有限的符号集</li>
<li>String 串：一个由字母表中符号组成的有限句子</li>
<li>Language 语言：字母表中符号组成的串的集合</li>
</ul>
<p>&emsp;&emsp;我们需要一种规范化的语言来对 token 进行识别 —— 正则表达式</p>
<ul>
<li>原子（atomic）<ul>
<li>$\epsilon$（空串）</li>
<li>单个字符</li>
</ul>
</li>
<li>组合形式（compound）<ul>
<li>Union（并）：$A|B=\{s|s\in A or s\in B\}$ </li>
<li>Concatenation（连接）：$AB=\{ab|a\in A\; and\; b\in B\}$ </li>
<li>Iteration（迭代）：$A^*=\cup_{i\geq0}A^i\;where\;A^i=A…A(i\;times)$ <ul>
<li>$A^*=\{\epsilon\}+A+AA+AAA+…$ </li>
<li>$A+=A+AA+AAA+…=AA^*$ </li>
</ul>
</li>
<li>$(A)\equiv A$：$A$ 是一个正则表达式</li>
<li>优先级从低到高</li>
</ul>
</li>
<li>一些其他的表示形式<ul>
<li>Union（并）：$A|B\equiv A+B$</li>
<li>Option（选择）：$A?\equiv A+\epsilon$</li>
<li>Range（区间）：$’a’+’b’+’c’+…+’z’\equiv[a-z]$ </li>
<li>Excluded range（排除区间）：$[a-z]$ 的补集 $[\hat{\;}a-z]$ </li>
</ul>
</li>
</ul>
<h3 id="字母表运算"><a href="#字母表运算" class="headerlink" title="字母表运算"></a>字母表运算</h3><ul>
<li>Product（乘积）：$\sum_1\sum_2=\{ab|a\in\sum_1,b\in\sum_2\}$ </li>
<li>Power（幂）：$\sum^n=\sum^{n-1}\sum,n\geq1;\sum^0=\{\epsilon\}$ </li>
<li>Positive Closure（正闭包）：$\sum^+=\sum\cup\sum^2\cup\sum^3\cup…$ </li>
<li>Kleene Closure（闭包）：$\sum=\sum^0\cup\sum^+$ </li>
</ul>
<h3 id="有穷自动机（Finite-Automata）"><a href="#有穷自动机（Finite-Automata）" class="headerlink" title="有穷自动机（Finite Automata）"></a>有穷自动机（Finite Automata）</h3><h4 id="定义-1"><a href="#定义-1" class="headerlink" title="定义"></a>定义</h4><p>&emsp;&emsp;自动机指一个机器或者一个程序，有穷自动机指一个状态有限的自动机。</p>
<h4 id="状态转移"><a href="#状态转移" class="headerlink" title="状态转移"></a>状态转移</h4><ul>
<li>拥有状态结点和带标签的边</li>
<li>有且只有一个起点状态，有一个或多个终点状态</li>
</ul>
<h4 id="NFA（不确定有穷自动机）"><a href="#NFA（不确定有穷自动机）" class="headerlink" title="NFA（不确定有穷自动机）"></a>NFA（不确定有穷自动机）</h4><ul>
<li>对于给定的一个状态和一个输入可以有多个转移方向</li>
<li>可以空边的状态转移</li>
<li>可以选择转态转移的方向</li>
</ul>
<h4 id="DFA（确定有穷自动机）"><a href="#DFA（确定有穷自动机）" class="headerlink" title="DFA（确定有穷自动机）"></a>DFA（确定有穷自动机）</h4><ul>
<li>一个状态一个输入对应一个转移方向</li>
<li>没有空边的状态转移</li>
<li>对于一个串只有唯一的状态转移路径</li>
</ul>
<h3 id="词法分析过程"><a href="#词法分析过程" class="headerlink" title="词法分析过程"></a>词法分析过程</h3><pre class="mermaid">graph LR
    LS(词法分析)-->RE
    RE-.转换.->NFA
    NFA-.转换.->DFA
    RE--转换-->DFA
    DFA--最小化-->MDFA[Minimized DFA]
    MDFA-->LA(词法分析器)</pre>

<h3 id="RE-转换为-NFA"><a href="#RE-转换为-NFA" class="headerlink" title="RE 转换为 NFA"></a>RE 转换为 NFA</h3><ul>
<li>自顶向下逐步分解 Top-Down</li>
<li>自下而上组合法 Bottom-Up</li>
</ul>
<h3 id="NFA-转换为-DFA"><a href="#NFA-转换为-DFA" class="headerlink" title="NFA 转换为 DFA"></a>NFA 转换为 DFA</h3><ul>
<li>找出 $\epsilon$ 闭包以消除 $\epsilon$ 边</li>
<li>对于不确定的状态转移构造子集</li>
<li>使用表驱动法</li>
</ul>
<h3 id="DFA-的最小化"><a href="#DFA-的最小化" class="headerlink" title="DFA 的最小化"></a>DFA 的最小化</h3><ul>
<li>找出 DFA 中的等价类</li>
<li>将所有的等价类进行合并</li>
<li>状态数最少的 DFA 就是最小 DFA</li>
</ul>
<h2 id="语法分析（Syntax-Analysis）"><a href="#语法分析（Syntax-Analysis）" class="headerlink" title="语法分析（Syntax Analysis）"></a>语法分析（Syntax Analysis）</h2><h3 id="定义-2"><a href="#定义-2" class="headerlink" title="定义"></a>定义</h3><p>从词法分析器输出的 token 序列中识别出各类短语，并构造语法分析树（paser tree）</p>
<ul>
<li>输入是来自词法分析的 token 序列</li>
<li>输出是一棵语法分析树</li>
<li>不是所有输入的 token 序列都是合法的（需要进行判别）</li>
<li>如何表明语法？（RE/FA？它们无法表示嵌套结构）</li>
</ul>
<h3 id="文法（Grammar）"><a href="#文法（Grammar）" class="headerlink" title="文法（Grammar）"></a>文法（Grammar）</h3><h4 id="定义-3"><a href="#定义-3" class="headerlink" title="定义"></a>定义</h4><p>系统地描述程序语言结构的语法，例如表达式和声明语句。<br>形式化定义：由4个部分组成 $\{T, N, s, \sigma\}$</p>
<ul>
<li>$T$：终结符<ul>
<li>构成串的基本符号</li>
<li>不能单独出现在推导式左边（不能再进行推导）</li>
<li>语法分析树中的叶子结点</li>
</ul>
</li>
<li>$N$：非终结符<ul>
<li>不是终结符的其他符号</li>
</ul>
</li>
<li>$s$：开始符号<ul>
<li>一种非终结符</li>
</ul>
</li>
<li>$\sigma$：产生式<ul>
<li>指定终结符和非终结符组成串的形式</li>
</ul>
</li>
</ul>
<h4 id="文法推导"><a href="#文法推导" class="headerlink" title="文法推导"></a>文法推导</h4><ul>
<li>产生式规则：LHS $\rightarrow$ RHS，表示 LHS 可以由 RHS 构建（代替）</li>
<li>推导（Derivation）：一系列对于产生式规则的应用<ul>
<li>最左推导：每次推导代替最左的非终结符</li>
<li>最右推导：每次推导代替最右的非终结符</li>
</ul>
</li>
<li>句型（Sentential form）：句型可以包含终结符和非终结符（也可以为空）</li>
<li>句子（Sentence）：句子只包含终结符</li>
<li>语言（Language）：由文法产生</li>
</ul>
<h4 id="文法归约"><a href="#文法归约" class="headerlink" title="文法归约"></a>文法归约</h4><ul>
<li>文法推导的逆过程</li>
<li>从 RHS 归约到 LHS</li>
</ul>
<h4 id="分析树"><a href="#分析树" class="headerlink" title="分析树"></a>分析树</h4><p>分析树即是使用图表示的推导过程</p>
<ul>
<li>最左推导：从左到右建树</li>
<li>最右推导：从右到左建树</li>
</ul>
<p>如果一个文法是二义性的（Ambiguity），则它可能对同一个句子产生多棵分析树。<br>对于大多数语法分析器来说，非二义性文法是更好的。</p>
<h4 id="文法类型"><a href="#文法类型" class="headerlink" title="文法类型"></a>文法类型</h4><ul>
<li>0 型文法：无限制文法<ul>
<li>LHS 不能为 $\epsilon$ </li>
</ul>
</li>
<li>1 型文法：上下文有关文法（CSG）<ul>
<li>LHS 的长度与 RHS 相等或更短</li>
<li>RHS 不能为 $\epsilon$ </li>
</ul>
</li>
<li>2 型文法：上下文无关文法（CFG）<ul>
<li>LHS 是单独的非终结符</li>
<li>RHS 不能为 $\epsilon$</li>
</ul>
</li>
<li>3 型文法：正则文法<ul>
<li>LHS 是单独的非终结符</li>
<li>RHS 是一个终结符或者一个终结符跟着一个非终结符</li>
</ul>
</li>
<li>由上到下具有包含关系</li>
</ul>
<h4 id="消除二义性"><a href="#消除二义性" class="headerlink" title="消除二义性"></a>消除二义性</h4><ul>
<li>重写文法，消除二义性</li>
<li>使用二义性文法，但是同时需要制定非二义性的规则</li>
</ul>
<p>如何消除二义性？</p>
<ul>
<li>指定优先级（Precedence）</li>
<li>指定结合性（Associativity）<ul>
<li>左结合</li>
<li>右结合</li>
</ul>
</li>
</ul>
<h3 id="自顶向下分析（Top-Down）"><a href="#自顶向下分析（Top-Down）" class="headerlink" title="自顶向下分析（Top-Down）"></a>自顶向下分析（Top-Down）</h3><h4 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h4><ul>
<li>从根结点开始</li>
<li>试图将开始符号展开成为输入串</li>
<li>使用最左推导</li>
<li>递归下降分析（RDP）<ul>
<li>带有回溯（Backtracking）</li>
<li>带有预测分析（Predictive parser）（向前看）【常用】</li>
<li>无法解决左递归问题（需要进行消除左递归）</li>
</ul>
</li>
</ul>
<h4 id="预测分析"><a href="#预测分析" class="headerlink" title="预测分析"></a>预测分析</h4><ul>
<li>左递归<ul>
<li>消除左递归</li>
</ul>
</li>
<li>共同前缀<ul>
<li>提取左公因子</li>
<li>使用 First 集<ul>
<li>解决回溯问题</li>
<li>新的问题：引入了大量的新非终结符和 $\epsilon$ 产生式</li>
</ul>
</li>
<li>使用 Follow 集<ul>
<li>解决空字问题</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="LL-k-含义"><a href="#LL-k-含义" class="headerlink" title="LL(k) 含义"></a>LL(k) 含义</h4><ul>
<li>L：从左到右扫描</li>
<li>L：最左推导</li>
<li>k：向前看 k 个符号</li>
</ul>
<h4 id="LL-1-文法"><a href="#LL-1-文法" class="headerlink" title="LL(1) 文法"></a>LL(1) 文法</h4><p>上面提到的构造不带回溯的自上而下的语法分析，就是 LL(1) 文法的条件。</p>
<ul>
<li>文法不含左递归</li>
<li>文法中每一个非终结符的各个产生式的 First 集两两不相交</li>
<li>文法中每一个非终结符 A，若 $\epsilon\in$ First(A)，则 First(A) $\cap$ Follow(A) 为空</li>
</ul>
<p>表驱动分析</p>
<ul>
<li>输入缓冲区：包含待分析的串，由 \$ 开始</li>
<li>栈：保存未匹配的推导串</li>
<li>分析表：记录推导过程的表</li>
<li>分析驱动：下一步动作基于栈顶或者当前 token</li>
</ul>
<h4 id="其他-LL-文法"><a href="#其他-LL-文法" class="headerlink" title="其他 LL 文法"></a>其他 LL 文法</h4><ul>
<li>LL(0)：没有预测分析，一个非终结符只能生成一个规则，一个语言只能生成一个串</li>
<li>LL(2) 乃至 LL(k)：分析表的大小 $O(|N|*|T|^k)$，其中 $N、T$ 分别是非终结符和终结符的数量。</li>
</ul>
<h3 id="自底向上分析（Bottom-Up）"><a href="#自底向上分析（Bottom-Up）" class="headerlink" title="自底向上分析（Bottom-Up）"></a>自底向上分析（Bottom-Up）</h3><h4 id="特点-1"><a href="#特点-1" class="headerlink" title="特点"></a>特点</h4><ul>
<li>从叶子结点开始</li>
<li>试图将输入串归约到开始符号</li>
<li>使用最右推导的逆（也称为最左归约、规范归约）</li>
<li>比 Top-Down 更强大<ul>
<li>不需要提取左因子</li>
<li>可以解决左递归问题</li>
<li>可以表达多个语言</li>
<li>效率更高</li>
</ul>
</li>
<li>使用移入-归约（Shift-Reduce）</li>
</ul>
<h4 id="移入-归约（Shift-Reduce）"><a href="#移入-归约（Shift-Reduce）" class="headerlink" title="移入-归约（Shift-Reduce）"></a>移入-归约（Shift-Reduce）</h4><ul>
<li>移入：将 # 右移，移入一个新符号</li>
<li>归约：反向应用生成式，将生成式右边归约为左边的状态<ul>
<li>将 0 或多个符号从栈中弹出</li>
<li>将相应的非终结符压到栈中</li>
</ul>
</li>
<li>接收：栈中只包含开始符号、输入缓冲区为空，完成语法分析</li>
<li>报错：发现语法错误，无法继续进行语法分析，调用一个错误恢复子例程</li>
</ul>
<h4 id="句柄（Handle）"><a href="#句柄（Handle）" class="headerlink" title="句柄（Handle）"></a>句柄（Handle）</h4><ul>
<li>句型的最左直接短语</li>
<li>每次对句柄进行归约</li>
</ul>
<h4 id="LR-k-含义"><a href="#LR-k-含义" class="headerlink" title="LR(k) 含义"></a>LR(k) 含义</h4><ul>
<li>L：从左到右扫描</li>
<li>R：最右推导的逆</li>
<li>k：向前看 k 个符号</li>
</ul>
<h4 id="LR-自动机"><a href="#LR-自动机" class="headerlink" title="LR 自动机"></a>LR 自动机</h4><ul>
<li>句柄总是在栈顶</li>
<li>移入-归约策略<ul>
<li>栈顶没有句柄，进行移入</li>
<li>栈顶含有句柄，进行归约，变成一个非终结符</li>
<li>可以使用一个移入-归约分析表进行记录</li>
</ul>
</li>
<li>可能产生冲突<ul>
<li>如果移入和归约都合法，则产生移入-归约冲突</li>
<li>如果同时存在两种或以上合法的归约，则产生归约-归约冲突</li>
</ul>
</li>
<li>LR 语法分析器使用两张表<ul>
<li>动作表 <code>Action[s, a]</code>，栈顶状态是 <code>s</code> 而下个输入的 token 是 <code>a</code><ul>
<li>接受终结符</li>
<li>移入、归约、接收、报错</li>
</ul>
</li>
<li>跳转表 <code>Goto[s, X]</code>，非终结符 <code>X</code>，栈顶状态 <code>s</code><ul>
<li>接受非终结符</li>
</ul>
</li>
</ul>
</li>
<li>增广文法（Augmented Grammar）<ul>
<li>在开始符号 S 前面加入一个 S’</li>
<li>S’ $\rightarrow$ .S 作为初始状态</li>
<li>S’ $\rightarrow$ S. 作为接受状态</li>
<li>保证表中只有一个 acc（接受）状态</li>
</ul>
</li>
</ul>
<h4 id="几种-LR-文法"><a href="#几种-LR-文法" class="headerlink" title="几种 LR 文法"></a>几种 LR 文法</h4><ul>
<li>LR(0)<ul>
<li>只对栈顶考虑移入/归约</li>
<li>最弱，由于其局限性使用不多，非常容易发生冲突</li>
</ul>
</li>
<li>SLR(1)<ul>
<li>简单的 LR，基于 LR(0)，归约时使用 Follow 集</li>
<li>动作表和跳转表保持和 LR(0) 一样小</li>
<li>只是简单的考察下一个输入符号是否属于归约项目相关的 Follow 集</li>
<li>依然容易产生冲突</li>
</ul>
</li>
<li>LR(1)<ul>
<li>向前看一个 token</li>
<li>对比 LR(0) 更复杂，有更大的表</li>
</ul>
</li>
<li>LALR(1)<ul>
<li>向前看的 LR(1)，寻找具有相同核心的 LR(1) 项集并进行合并</li>
<li>根据合并后得到的项集族构造语法分析表</li>
<li>分析表比 LR(1) 更小</li>
<li>不会引入移入-归约冲突</li>
<li>会引入归约-归约冲突</li>
<li>延迟错误识别</li>
</ul>
</li>
</ul>
<h2 id="语义分析（Semantic-Analysis）"><a href="#语义分析（Semantic-Analysis）" class="headerlink" title="语义分析（Semantic Analysis）"></a>语义分析（Semantic Analysis）</h2><h3 id="定义-4"><a href="#定义-4" class="headerlink" title="定义"></a>定义</h3><p>收集标识符的属性信息，并进行语义检查，上下文相关分析。</p>
<ul>
<li>CFG 是上下文无关的，不能分析上下文信息</li>
<li>语义检查包括变量需要先声明后使用、变量类型一致、表达式类型一致等等</li>
</ul>
<h3 id="符号表（Symbol-Table）"><a href="#符号表（Symbol-Table）" class="headerlink" title="符号表（Symbol Table）"></a>符号表（Symbol Table）</h3><h4 id="定义-5"><a href="#定义-5" class="headerlink" title="定义"></a>定义</h4><p>跟踪程序的所有符号信息的一种编译器的数据结构</p>
<ul>
<li>记录每个符号的信息</li>
<li>在语义分析阶段创建</li>
<li>在词法分析阶段准备</li>
<li>在代码生成阶段使用</li>
<li>在生成二进制流后丢弃</li>
</ul>
<h4 id="程序变量（Variable）"><a href="#程序变量（Variable）" class="headerlink" title="程序变量（Variable）"></a>程序变量（Variable）</h4><ul>
<li>声明（declaration）：类型和名字</li>
<li>定义（definition）：内存空间分配</li>
<li>绑定（binding）：使用定义匹配标识符</li>
<li>作用域（Scope）：可以绑定定义的程序区域<ul>
<li>静态作用域：一个声明起作用的那段区域<ul>
<li>绑定最近封闭区域的定义</li>
<li>拥有更少的程序错误</li>
<li>拥有更高效的代码</li>
</ul>
</li>
<li>动态作用域：运行时决定<ul>
<li>绑定当前执行中的最新定义</li>
<li>在运行时才进行绑定</li>
<li>难以直接通过观察判断</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="符号表信息"><a href="#符号表信息" class="headerlink" title="符号表信息"></a>符号表信息</h4><ul>
<li>串：标识符名称</li>
<li>类型：变量、函数、结构体、类</li>
<li>信息<ul>
<li>变量：类型、地址</li>
<li>函数：返回类型、进入地址</li>
<li>结构体：域内变量名、域内变量类型</li>
<li>类：类的符号表</li>
</ul>
</li>
</ul>
<h4 id="维护"><a href="#维护" class="headerlink" title="维护"></a>维护</h4><ul>
<li>进入作用域</li>
<li>退出作用域</li>
<li>发现符号</li>
<li>添加符号</li>
<li>检查符号</li>
</ul>
<h4 id="结构"><a href="#结构" class="headerlink" title="结构"></a>结构</h4><p>符号表访问的时间影响编译前端的性能</p>
<ul>
<li>线性表<ul>
<li>数组：插入删除 $O(n)$，搜索 $O(n)$，没有空间浪费</li>
<li>链表：插入删除 $O(1)$，搜索 $O(n)$，需要额外的指针空间</li>
</ul>
</li>
<li>二叉树<ul>
<li>插入删除搜索均是 $O(\log n)$，最坏情况下会退化成链表</li>
<li>比线性表需要更多的空间</li>
</ul>
</li>
<li>哈希表<ul>
<li>插入删除搜索均是 $O(1)$，当哈希冲突过多链过长时退化成 $O(n)$</li>
</ul>
</li>
</ul>
<h4 id="处理多个作用域"><a href="#处理多个作用域" class="headerlink" title="处理多个作用域"></a>处理多个作用域</h4><p>栈方法</p>
<ul>
<li>每个作用域维护一个单独的符号表</li>
<li>对于每个开放的作用域维护一个入口</li>
<li>进入一个作用域时符号表指针入栈</li>
<li>退出一个作用域时符号表指针出栈</li>
<li>缺点<ul>
<li>因为需要查找多个哈希表，查找比较低效（所有的全局变量都在栈底）</li>
<li>因为需要维护多个哈希表，对内存的使用比较低效</li>
</ul>
</li>
</ul>
<p>链方法</p>
<ul>
<li>对所有的作用域只维护一个符号表</li>
<li>进入一个作用域时标记一个新的嵌套层次</li>
<li>退出一个作用域时将该嵌套层次的所有符号删除</li>
<li>符号表只维护当前活跃的作用域</li>
<li>作用<ul>
<li>只适用于块作用域，不适用于类作用域</li>
<li>退出作用域时开销较大（需要进行删除）</li>
<li>查找时只需要一个哈希表</li>
<li>存储在内存里的只是一个大的哈希表</li>
</ul>
</li>
</ul>
<h4 id="类型检查"><a href="#类型检查" class="headerlink" title="类型检查"></a>类型检查</h4><ul>
<li>静态类型检查：编译时（C/C++，Java）<ul>
<li>有一些类型错误是无法在编译时就发现的</li>
<li>程序需要更严格的编写规范</li>
<li>通常程序 bug 更少，运行时间更快</li>
</ul>
</li>
<li>动态类型检查：执行时（Python，JavaScript，PHP）<ul>
<li>在执行时再检查可以发现更多错误，更可取</li>
<li>程序无需那么严格的规范</li>
<li>更多的程序 bug 和更长的运行时间</li>
</ul>
</li>
</ul>
<h2 id="语法制导翻译（Syntax-Directed-Translation，SDT）"><a href="#语法制导翻译（Syntax-Directed-Translation，SDT）" class="headerlink" title="语法制导翻译（Syntax Directed Translation，SDT）"></a>语法制导翻译（Syntax Directed Translation，SDT）</h2><h3 id="定义-6"><a href="#定义-6" class="headerlink" title="定义"></a>定义</h3><p>使用 CFG 来引导对语言的翻译，是一种面向文法的翻译技术</p>
<h3 id="语法制导定义（Syntax-Directed-Definitions，SDD）"><a href="#语法制导定义（Syntax-Directed-Definitions，SDD）" class="headerlink" title="语法制导定义（Syntax Directed Definitions，SDD）"></a>语法制导定义（Syntax Directed Definitions，SDD）</h3><h4 id="定义-7"><a href="#定义-7" class="headerlink" title="定义"></a>定义</h4><p>SDD 是对 CFG 的推广，翻译的高层次规则说明</p>
<ul>
<li>将每个文法符号和一个语义属性集合相关联</li>
<li>将每个产生式和一组语义规则相关联</li>
</ul>
<p>副作用（Side effect）</p>
<ul>
<li>一般属性值计算之外的功能</li>
<li>例如：代码生成、打印结果、修改符号表</li>
</ul>
<p>属性文法（Attribute grammar）</p>
<ul>
<li>一个没有副作用的 SDD</li>
<li>属性文法的规则仅仅通过其他属性值和常量来定义一个属性值</li>
</ul>
<p>标注分析树（Annotated parse-tree）</p>
<ul>
<li>每个结点都带有属性值的分析树</li>
</ul>
<h4 id="文法符号的属性"><a href="#文法符号的属性" class="headerlink" title="文法符号的属性"></a>文法符号的属性</h4><ul>
<li>综合属性<ul>
<li>分析树结点 N 上的非终结符 A 的综合属性只能通过 N 的子结点或 N 本身的属性值来定义</li>
<li>终结符可以具有综合属性</li>
</ul>
</li>
<li>继承属性<ul>
<li>分析树结点 N 上的非终结符 A 的继承属性只能通过 N 的父结点、N 的兄弟结点或 N 本身的属性值来定义</li>
<li>终结符没有继承属性</li>
</ul>
</li>
</ul>
<h4 id="产生式中的属性依赖"><a href="#产生式中的属性依赖" class="headerlink" title="产生式中的属性依赖"></a>产生式中的属性依赖</h4><p>依赖图</p>
<ul>
<li>依赖图决定属性值的计算</li>
<li>依赖图描绘了分析树的属性信息流</li>
</ul>
<p>SDD 的求值顺序</p>
<ul>
<li>按照属性之间的依赖关系</li>
<li>在对一个结点属性求值之前，必须首先求出这个属性值所依赖的所有属性值</li>
<li>通过依赖图的边确定计算顺序</li>
<li>使用依赖图的拓扑排序</li>
<li>非常难确定是否有循环依赖</li>
</ul>
<h4 id="S-属性定义"><a href="#S-属性定义" class="headerlink" title="S-属性定义"></a>S-属性定义</h4><ul>
<li>只具有综合属性</li>
<li>可以使用任何自底向上的顺序计算属性值</li>
<li>可以在 LR 分析中实现</li>
</ul>
<h4 id="L-属性定义"><a href="#L-属性定义" class="headerlink" title="L-属性定义"></a>L-属性定义</h4><ul>
<li>依赖图的边只能从左到右</li>
<li>每个属性要么是一个综合属性，要么是满足以下条件的继承属性<ul>
<li>对于产生式 $A\rightarrow X_1X_2…X_n$，$X_i$ 的继承属性仅依赖下列属性<ul>
<li>$A$ 的基础属性</li>
<li>产生式中 $X_i$ 左边的符号 $X_1,X_2,…,X_i$ 的属性</li>
<li>$X_i$ 本身的属性，但不能在依赖图中形成环路</li>
</ul>
</li>
</ul>
</li>
<li>可以在 LL 分析中实现</li>
</ul>
<h3 id="语法制导翻译方案（Syntax-Directed-Translation-Scheme，SDT）"><a href="#语法制导翻译方案（Syntax-Directed-Translation-Scheme，SDT）" class="headerlink" title="语法制导翻译方案（Syntax Directed Translation Scheme，SDT）"></a>语法制导翻译方案（Syntax Directed Translation Scheme，SDT）</h3><h4 id="定义-8"><a href="#定义-8" class="headerlink" title="定义"></a>定义</h4><ul>
<li>SDT 是在产生式右部嵌入了程序片段的 CFG，这些程序片段称为语义动作</li>
<li>SDT 是 SDD 的补充，是具体翻译的实施方案</li>
<li>SDT 显式地指明了语义规则的计算顺序，以便说明某些细节</li>
</ul>
<h4 id="具体实现"><a href="#具体实现" class="headerlink" title="具体实现"></a>具体实现</h4><ul>
<li>基于预先构建的分析树</li>
<li>在语法分析过程中实现</li>
</ul>
<h3 id="S-SDD-到-SDT-的转换"><a href="#S-SDD-到-SDT-的转换" class="headerlink" title="S-SDD 到 SDT 的转换"></a>S-SDD 到 SDT 的转换</h3><ul>
<li>将每个语义动作都放在产生式的最后</li>
<li>使用 LR 语法分析实现，当归约发生时执行相应的语义动作</li>
</ul>
<h3 id="L-SDD-到-SDT-的转换"><a href="#L-SDD-到-SDT-的转换" class="headerlink" title="L-SDD 到 SDT 的转换"></a>L-SDD 到 SDT 的转换</h3><ul>
<li>将计算某个非终结符 A 的继承属性的动作插入到产生式右部中紧靠在 A 的本次出现之前的位置上</li>
<li>将计算一个产生式左部符号的综合属性的动作放置在这个产生式右部的最右端</li>
<li>可以在 LL 或 LR 语法分析过程中实现<ul>
<li>递归预测分析<ul>
<li>综合属性：最后计算</li>
<li>继承属性：参数传递</li>
</ul>
</li>
<li>非递归预测分析<ul>
<li>扩展语法分析栈</li>
<li>管理属性信息</li>
</ul>
</li>
<li>LR 分析</li>
</ul>
</li>
</ul>
<h2 id="中间代码生成（Intermediate-Code-Generation）"><a href="#中间代码生成（Intermediate-Code-Generation）" class="headerlink" title="中间代码生成（Intermediate Code Generation）"></a>中间代码生成（Intermediate Code Generation）</h2><h3 id="定义-9"><a href="#定义-9" class="headerlink" title="定义"></a>定义</h3><p>编译器翻译源程序并生成一些中间表示形式（Intermediate Representation，IR），再将其转化为机器代码</p>
<p>IR 的好处</p>
<ul>
<li>增加程序的抽象性（比起机器代码）</li>
<li>前后端分离（与不同高级程序语言、不同处理器架构无关）</li>
<li>目标重定向</li>
<li>易于优化和扩展</li>
</ul>
<p>高层 IR：更趋向高级程序语言</p>
<ul>
<li>抽象语法树（AST）</li>
<li>分析树</li>
</ul>
<p>低层 IR：更趋向集成</p>
<ul>
<li>三地址码</li>
<li>静态单赋值</li>
</ul>
<p>机器层 IR：趋向机器</p>
<ul>
<li>x86 IR</li>
<li>ARM IR</li>
<li>MIPS IR</li>
</ul>
<h3 id="三地址码（Three-Address-Code，TAC）"><a href="#三地址码（Three-Address-Code，TAC）" class="headerlink" title="三地址码（Three-Address Code，TAC）"></a>三地址码（Three-Address Code，TAC）</h3><ul>
<li>每个操作最多具有三个操作数</li>
<li>可以是变量、常量、临时变量</li>
<li>长表达式可以转换成多条指令</li>
<li>控制流，跳转</li>
<li>与机器无关</li>
<li>目标：做出更简单的与机器无关的优化</li>
</ul>
<h4 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h4><ul>
<li>二元赋值</li>
<li>一元赋值</li>
<li>拷贝</li>
<li>无条件跳转</li>
<li>条件跳转</li>
<li>过程调用</li>
<li>过程调用返回</li>
<li>索引</li>
<li>地址和指针</li>
</ul>
<h4 id="执行-1"><a href="#执行-1" class="headerlink" title="执行"></a>执行</h4><ul>
<li>四元式（quadruples） <code>op arg1, arg2, result</code></li>
<li>三元式（triples） <code>op arg1 arg2</code></li>
<li>间接三元式（indirect triples） <code>op arg1 arg2</code></li>
</ul>
<h3 id="静态单赋值（Single-Static-Assignment，SSA）"><a href="#静态单赋值（Single-Static-Assignment，SSA）" class="headerlink" title="静态单赋值（Single Static Assignment，SSA）"></a>静态单赋值（Single Static Assignment，SSA）</h3>
            </div>
            
                <div class="kratos-copyright text-center clearfix">
                    <h5>本作品采用 <a rel="license nofollow" target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/">知识共享署名-相同方式共享 4.0 国际许可协议</a> 进行许可</h5>
                </div>
            
            <footer class="kratos-entry-footer clearfix">
                
                    <div class="post-like-donate text-center clearfix" id="post-like-donate">
                    
                        <a class="donate" href="javascript:;"><i class="fas fa-coffee"></i> 打赏</a>
                    
                    
                        <a class="share" href="javascript:;"><i class="fas fa-share-alt"></i> 分享</a>
                        <div class="share-wrap" style="display: none;">
    <div class="share-group">
        <a href="javascript:;" class="share-plain qq" onclick="share('qq');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fab fa-qq"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain qzone" onclick="share('qzone');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fas fa-star"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weixin pop style-plain" rel="nofollow">
            <div class="icon-wrap">
                <i class="fab fa-weixin"></i>
            </div>
            <div class="share-int">
                <div class="qrcode" id="wechat-qr"></div>
                <p>打开微信“扫一扫”，打开网页后点击屏幕右上角分享按钮</p>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weibo" onclick="share('weibo');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fab fa-weibo"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain facebook style-plain" onclick="share('facebook');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fab fa-facebook-f"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain twitter style-plain" onclick="share('twitter');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fab fa-twitter"></i>
            </div>
        </a>
    </div>
    <script type="text/javascript">
        $(()=>{
            new QRCode("wechat-qr", {
                text: "http://ender-coder.github.io/2021/07/06/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%20%E5%A4%8D%E4%B9%A0%E9%A2%98/",
                width: 150,
                height: 150,
                correctLevel : QRCode.CorrectLevel.H
            });
        });
        function share(dest) {
            const qqBase        = "https://connect.qq.com/widget/shareqq/index.html?";
            const weiboBase     = "https://service.weibo.com/share/share.php?";
            const qzoneBase     = "https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?";
            const facebookBase  = "https://www.facebook.com/sharer/sharer.php?";
            const twitterBase   = "https://twitter.com/intent/tweet?";
            const hostUrl       = "http://ender-coder.github.io/2021/07/06/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%20%E5%A4%8D%E4%B9%A0%E9%A2%98/";
            const title         = "「编译原理 复习」";
            const excerpt       = `前言&emsp;&emsp;这篇文章是《编译原理》课程的复习笔记，可以作为期末考试的复习资料。`;
            let _URL;
            switch (dest) {
                case "qq"       : _URL = qqBase+"url="+hostUrl+"&title="+title+"&desc=&summary="+excerpt+"&site=cxpy";     break;
                case "weibo"    : _URL = weiboBase+"url="+hostUrl+"&title="+title+excerpt;                                 break;
                case "qzone"    : _URL = qzoneBase+"url="+hostUrl+"&title="+title+"&desc=&summary="+excerpt+"&site=cxpy";  break;
                case "facebook" : _URL = facebookBase+"u="+hostUrl;                                                        break;
                case "twitter"  : _URL = twitterBase+"text="+title+excerpt+"&url="+hostUrl;                                break;
            }
            window.open(_URL);
        };
    </script>
</div>
                    
                    </div>
                
                <div class="footer-tag clearfix">
                    <div class="pull-left">
                    <i class="fas fa-tags"></i>
                        
                    </div>
                    <div class="pull-date">
                    <span>最后编辑：2021-07-16</span>
                    </div>
                </div>
            </footer>
        </div>
        
            <nav class="navigation post-navigation clearfix" role="navigation">
                
                <div class="nav-previous clearfix">
                    <a title=" 机器学习与数据挖掘 复习题" href="/2021/07/04/机器学习与数据挖掘复习题/">&lt; 上一篇</a>
                </div>
                
                
                <div class="nav-next clearfix">
                    <a title=" Leetcode 148.排序链表" href="/2021/07/16/Leetcode 148.排序链表/">下一篇 &gt;</a>
                </div>
                
            </nav>
        
        
            <div id="v-comments" class="post-comments"></div>
<script>
    var load_comm = () => {
        const init = () => {
            new Valine({
                el: '#v-comments',
                appId: 'xViI6ucIqBOwXsIxB7YGyFWu-gzGzoHsz',
                appKey: 'nJvn3U27Xay2sVJ3rXtOj5yB',
                visitor: true,
                enableQQ: true,
                path: '/2021/07/06/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%20%E5%A4%8D%E4%B9%A0%E9%A2%98/'
            });
        }
        if (typeof Valine == 'undefined') {
            const src = 'https://cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js';
            $.getScript(src, init);
        } else {
            init();
        }
    };
</script>
<noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="https://valine.js.org/">comments powered by Valine.</a></noscript>

        
    </article>
</section>

                
            

<section id="kratos-widget-area" class="col-md-4 hidden-xs hidden-sm">
    <!-- 文章和页面根据splitter来分割，没有的话就从头开始设置为sticky -->
    
    
                <aside id="krw-about" class="widget widget-kratos-about clearfix">
    <div class="photo-background"></div>
    <div class="photo-wrapper clearfix">
        <div class="photo-wrapper-tip text-center">
            <img class="about-photo" src="/images/spider-man.webp" />
        </div>
    </div>
    <div class="textwidget">
        <p class="text-center"><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=100% height=86 src="//music.163.com/outchain/player?type=2&id=1498076242&auto=0&height=66"></iframe></p>
    </div>
</aside>
            
                    <div class="sticky-area">
                
                    <aside id="krw-toc" class="widget widget-kratos-toc clearfix">
    <div class="photo-background"></div>
    <h4 class="widget-title no-after">
        <i class="fas fa-compass"></i>
        目录
        <span class="toc-progress-bar"></span>
    </h4>
    <div class="textwidget">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86-%E5%A4%A7%E7%BA%B2"><span class="toc-text">编译原理 大纲</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%AA%E8%AE%BA"><span class="toc-text">绪论</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E8%AF%91-%E5%AE%9A%E4%B9%89"><span class="toc-text">编译 定义</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%8D%E6%B3%95%E5%88%86%E6%9E%90%EF%BC%88Lexical-Analysis%EF%BC%89"><span class="toc-text">词法分析（Lexical Analysis）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89"><span class="toc-text">定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%A7%E8%A1%8C"><span class="toc-text">执行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%88RE%EF%BC%89"><span class="toc-text">正则表达式（RE）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E6%AF%8D%E8%A1%A8%E8%BF%90%E7%AE%97"><span class="toc-text">字母表运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%89%E7%A9%B7%E8%87%AA%E5%8A%A8%E6%9C%BA%EF%BC%88Finite-Automata%EF%BC%89"><span class="toc-text">有穷自动机（Finite Automata）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89-1"><span class="toc-text">定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%8A%B6%E6%80%81%E8%BD%AC%E7%A7%BB"><span class="toc-text">状态转移</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#NFA%EF%BC%88%E4%B8%8D%E7%A1%AE%E5%AE%9A%E6%9C%89%E7%A9%B7%E8%87%AA%E5%8A%A8%E6%9C%BA%EF%BC%89"><span class="toc-text">NFA（不确定有穷自动机）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DFA%EF%BC%88%E7%A1%AE%E5%AE%9A%E6%9C%89%E7%A9%B7%E8%87%AA%E5%8A%A8%E6%9C%BA%EF%BC%89"><span class="toc-text">DFA（确定有穷自动机）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%8D%E6%B3%95%E5%88%86%E6%9E%90%E8%BF%87%E7%A8%8B"><span class="toc-text">词法分析过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RE-%E8%BD%AC%E6%8D%A2%E4%B8%BA-NFA"><span class="toc-text">RE 转换为 NFA</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#NFA-%E8%BD%AC%E6%8D%A2%E4%B8%BA-DFA"><span class="toc-text">NFA 转换为 DFA</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DFA-%E7%9A%84%E6%9C%80%E5%B0%8F%E5%8C%96"><span class="toc-text">DFA 的最小化</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90%EF%BC%88Syntax-Analysis%EF%BC%89"><span class="toc-text">语法分析（Syntax Analysis）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89-2"><span class="toc-text">定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E6%B3%95%EF%BC%88Grammar%EF%BC%89"><span class="toc-text">文法（Grammar）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89-3"><span class="toc-text">定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E6%B3%95%E6%8E%A8%E5%AF%BC"><span class="toc-text">文法推导</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E6%B3%95%E5%BD%92%E7%BA%A6"><span class="toc-text">文法归约</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E6%9E%90%E6%A0%91"><span class="toc-text">分析树</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E6%B3%95%E7%B1%BB%E5%9E%8B"><span class="toc-text">文法类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B6%88%E9%99%A4%E4%BA%8C%E4%B9%89%E6%80%A7"><span class="toc-text">消除二义性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E5%88%86%E6%9E%90%EF%BC%88Top-Down%EF%BC%89"><span class="toc-text">自顶向下分析（Top-Down）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%B9%E7%82%B9"><span class="toc-text">特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%84%E6%B5%8B%E5%88%86%E6%9E%90"><span class="toc-text">预测分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LL-k-%E5%90%AB%E4%B9%89"><span class="toc-text">LL(k) 含义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LL-1-%E6%96%87%E6%B3%95"><span class="toc-text">LL(1) 文法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E4%BB%96-LL-%E6%96%87%E6%B3%95"><span class="toc-text">其他 LL 文法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%88%86%E6%9E%90%EF%BC%88Bottom-Up%EF%BC%89"><span class="toc-text">自底向上分析（Bottom-Up）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%B9%E7%82%B9-1"><span class="toc-text">特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A7%BB%E5%85%A5-%E5%BD%92%E7%BA%A6%EF%BC%88Shift-Reduce%EF%BC%89"><span class="toc-text">移入-归约（Shift-Reduce）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%A5%E6%9F%84%EF%BC%88Handle%EF%BC%89"><span class="toc-text">句柄（Handle）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LR-k-%E5%90%AB%E4%B9%89"><span class="toc-text">LR(k) 含义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LR-%E8%87%AA%E5%8A%A8%E6%9C%BA"><span class="toc-text">LR 自动机</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%A0%E7%A7%8D-LR-%E6%96%87%E6%B3%95"><span class="toc-text">几种 LR 文法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E4%B9%89%E5%88%86%E6%9E%90%EF%BC%88Semantic-Analysis%EF%BC%89"><span class="toc-text">语义分析（Semantic Analysis）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89-4"><span class="toc-text">定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%A6%E5%8F%B7%E8%A1%A8%EF%BC%88Symbol-Table%EF%BC%89"><span class="toc-text">符号表（Symbol Table）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89-5"><span class="toc-text">定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E5%8F%98%E9%87%8F%EF%BC%88Variable%EF%BC%89"><span class="toc-text">程序变量（Variable）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%A6%E5%8F%B7%E8%A1%A8%E4%BF%A1%E6%81%AF"><span class="toc-text">符号表信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%B4%E6%8A%A4"><span class="toc-text">维护</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%84"><span class="toc-text">结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E5%A4%9A%E4%B8%AA%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-text">处理多个作用域</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5"><span class="toc-text">类型检查</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%E5%88%B6%E5%AF%BC%E7%BF%BB%E8%AF%91%EF%BC%88Syntax-Directed-Translation%EF%BC%8CSDT%EF%BC%89"><span class="toc-text">语法制导翻译（Syntax Directed Translation，SDT）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89-6"><span class="toc-text">定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%E5%88%B6%E5%AF%BC%E5%AE%9A%E4%B9%89%EF%BC%88Syntax-Directed-Definitions%EF%BC%8CSDD%EF%BC%89"><span class="toc-text">语法制导定义（Syntax Directed Definitions，SDD）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89-7"><span class="toc-text">定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E6%B3%95%E7%AC%A6%E5%8F%B7%E7%9A%84%E5%B1%9E%E6%80%A7"><span class="toc-text">文法符号的属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%A7%E7%94%9F%E5%BC%8F%E4%B8%AD%E7%9A%84%E5%B1%9E%E6%80%A7%E4%BE%9D%E8%B5%96"><span class="toc-text">产生式中的属性依赖</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#S-%E5%B1%9E%E6%80%A7%E5%AE%9A%E4%B9%89"><span class="toc-text">S-属性定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#L-%E5%B1%9E%E6%80%A7%E5%AE%9A%E4%B9%89"><span class="toc-text">L-属性定义</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%E5%88%B6%E5%AF%BC%E7%BF%BB%E8%AF%91%E6%96%B9%E6%A1%88%EF%BC%88Syntax-Directed-Translation-Scheme%EF%BC%8CSDT%EF%BC%89"><span class="toc-text">语法制导翻译方案（Syntax Directed Translation Scheme，SDT）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89-8"><span class="toc-text">定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B7%E4%BD%93%E5%AE%9E%E7%8E%B0"><span class="toc-text">具体实现</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#S-SDD-%E5%88%B0-SDT-%E7%9A%84%E8%BD%AC%E6%8D%A2"><span class="toc-text">S-SDD 到 SDT 的转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#L-SDD-%E5%88%B0-SDT-%E7%9A%84%E8%BD%AC%E6%8D%A2"><span class="toc-text">L-SDD 到 SDT 的转换</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%AD%E9%97%B4%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90%EF%BC%88Intermediate-Code-Generation%EF%BC%89"><span class="toc-text">中间代码生成（Intermediate Code Generation）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89-9"><span class="toc-text">定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E5%9C%B0%E5%9D%80%E7%A0%81%EF%BC%88Three-Address-Code%EF%BC%8CTAC%EF%BC%89"><span class="toc-text">三地址码（Three-Address Code，TAC）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C"><span class="toc-text">操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%A7%E8%A1%8C-1"><span class="toc-text">执行</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E5%8D%95%E8%B5%8B%E5%80%BC%EF%BC%88Single-Static-Assignment%EF%BC%8CSSA%EF%BC%89"><span class="toc-text">静态单赋值（Single Static Assignment，SSA）</span></a></li></ol></li></ol>
    </div>
</aside>
                
                
  <aside id="krw-categories" class="widget widget-kratos-categories clearfix">
    <h4 class="widget-title"><i class="fas fa-archive"></i>分类</h4>
    <div class="tab-content">
      <ul class="list-group">
        
          <a class="list-group-item" href="/categories/Leetcode/">
            <i class="fas fa-folder"></i> Leetcode
            <span>98</span>
          </a>
        
          <a class="list-group-item" href="/categories/Project/">
            <i class="fas fa-folder"></i> Project
            <span>1</span>
          </a>
        
          <a class="list-group-item" href="/categories/Test/">
            <i class="fas fa-folder"></i> Test
            <span>1</span>
          </a>
        
          <a class="list-group-item" href="/categories/%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/">
            <i class="fas fa-folder"></i> 复习资料
            <span>6</span>
          </a>
        
          <a class="list-group-item" href="/categories/%E6%99%BA%E5%8A%9B%E9%A2%98/">
            <i class="fas fa-folder"></i> 智力题
            <span>2</span>
          </a>
        
      </ul>
    </div>
  </aside>


            
                
  <aside id="krw-tags" class="widget widget-kratos-tags clearfix">
    <h4 class="widget-title"><i class="fas fa-tags"></i>标签云</h4>
      <div class="tag-clouds">
        <a href="/tags/BFS/" style="font-size: 0.65em;">BFS</a> <a href="/tags/C/" style="font-size: 0.8em;">C++</a> <a href="/tags/DFS/" style="font-size: 0.72em;">DFS</a> <a href="/tags/Project/" style="font-size: 0.6em;">Project</a> <a href="/tags/set/" style="font-size: 0.6em;">set</a> <a href="/tags/test/" style="font-size: 0.6em;">test</a> <a href="/tags/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/" style="font-size: 0.63em;">二分查找</a> <a href="/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/" style="font-size: 0.77em;">二叉树</a> <a href="/tags/%E4%BD%8D%E8%BF%90%E7%AE%97/" style="font-size: 0.62em;">位运算</a> <a href="/tags/%E5%88%86%E6%B2%BB/" style="font-size: 0.62em;">分治</a> <a href="/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" style="font-size: 0.78em;">动态规划</a> <a href="/tags/%E5%8D%95%E8%B0%83%E6%A0%88/" style="font-size: 0.63em;">单调栈</a> <a href="/tags/%E5%8E%9F%E5%9C%B0%E7%AE%97%E6%B3%95/" style="font-size: 0.67em;">原地算法</a> <a href="/tags/%E5%8F%8C%E6%8C%87%E9%92%88/" style="font-size: 0.67em;">双指针</a> <a href="/tags/%E5%93%88%E5%B8%8C/" style="font-size: 0.73em;">哈希</a> <a href="/tags/%E5%9B%9E%E6%BA%AF/" style="font-size: 0.7em;">回溯</a> <a href="/tags/%E5%9B%BE%E8%AE%BA/" style="font-size: 0.62em;">图论</a> <a href="/tags/%E5%A0%86/" style="font-size: 0.62em;">堆</a> <a href="/tags/%E5%AD%97%E5%85%B8%E5%BA%8F/" style="font-size: 0.6em;">字典序</a> <a href="/tags/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F/" style="font-size: 0.6em;">归并排序</a> <a href="/tags/%E5%BF%AB%E6%85%A2%E6%8C%87%E9%92%88/" style="font-size: 0.67em;">快慢指针</a> <a href="/tags/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/" style="font-size: 0.6em;">快速排序</a> <a href="/tags/%E6%8E%92%E5%BA%8F/" style="font-size: 0.63em;">排序</a> <a href="/tags/%E6%91%A9%E5%B0%94%E6%8A%95%E7%A5%A8/" style="font-size: 0.6em;">摩尔投票</a> <a href="/tags/%E6%95%B0%E5%AD%A6%E6%96%B9%E6%B3%95/" style="font-size: 0.65em;">数学方法</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 0.63em;">数据结构</a> <a href="/tags/%E6%A0%88/" style="font-size: 0.63em;">栈</a> <a href="/tags/%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/" style="font-size: 0.63em;">滑动窗口</a> <a href="/tags/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/" style="font-size: 0.6em;">程序设计</a> <a href="/tags/%E8%B4%AA%E5%BF%83/" style="font-size: 0.63em;">贪心</a> <a href="/tags/%E8%BF%AD%E4%BB%A3/" style="font-size: 0.68em;">迭代</a> <a href="/tags/%E9%80%92%E5%BD%92/" style="font-size: 0.75em;">递归</a> <a href="/tags/%E9%98%9F%E5%88%97/" style="font-size: 0.65em;">队列</a>
      </div>
  </aside>

            
                
  <aside id="krw-posts" class="widget widget-kratos-posts">
    <h4 class="widget-title"><i class="fas fa-folder"></i>最新文章</h4>
    <div class="tab-content">
      <ul class="list-group">
        
        
          
          
            <a class="list-group-item" href="/2021/09/04/%E6%99%BA%E5%8A%9B%E9%A2%98%EF%BC%9A%E8%B5%9B%E9%A9%AC%E9%97%AE%E9%A2%98/"><i class="fas fa-file-alt"></i> 智力题：赛马问题</a>
            
          
        
          
          
            <a class="list-group-item" href="/2021/08/31/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%20%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/"><i class="fas fa-file-alt"></i> 操作系统原理 知识总结</a>
            
          
        
          
          
            <a class="list-group-item" href="/2021/08/24/%E6%99%BA%E5%8A%9B%E9%A2%98%EF%BC%9A12%E7%A1%AC%E5%B8%81%E9%97%AE%E9%A2%98/"><i class="fas fa-file-alt"></i> 智力题：12 硬币问题</a>
            
          
        
          
          
            <a class="list-group-item" href="/2021/08/19/Leetcode%20739.%E6%AF%8F%E6%97%A5%E6%B8%A9%E5%BA%A6/"><i class="fas fa-file-alt"></i> Leetcode 739.每日温度</a>
            
          
        
          
          
            <a class="list-group-item" href="/2021/08/18/Leetcode%20647.%E5%9B%9E%E6%96%87%E5%AD%90%E4%B8%B2/"><i class="fas fa-file-alt"></i> Leetcode 647.回文子串</a>
            
          
        
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
      </ul>
    </div>
  </aside>

            
    </div>
</section>
        
        </div>
    </div>
</div>
<footer>
    <div id="footer">
        <div class="kr-tool text-center">
            <div class="tool">
                
                    <div class="box search-box">
                        <a href="/search/">
                            <span class="fas fa-search"></span>
                        </a>
                    </div>
                
                
                    <div class="box theme-box" id="darkmode-switch">
                        <span class="fas fa-adjust"></span>
                    </div>
                
                
            </div>
            <div class="box gotop-box">
                <span class="fas fa-chevron-up"></span>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-md-6 col-md-offset-3 footer-list text-center">
                    <ul class="kratos-social-icons">
                        <li><a href="" title="1422112890"><i class="fab fa-qq fa-fw"></i></a></li>
                        <li><a href="" title="Ender0u0"><i class="fab fa-weixin fa-fw"></i></a></li>
                        
                        <li><a href="mailto:1422112890@qq.com" title="1422112890@qq.com"><i class="fas fa-envelope fa-fw"></i></a></li>
                        <li><a target="_blank" rel="nofollow" href="https://www.instagram.com/Ender0u0" title="Ender0u0"><i class="fab fa-instagram fa-fw"></i></a></li>
                        <li><a target="_blank" rel="nofollow" href="https://github.com/Ender-coder" title="Ender-coder"><i class="fab fa-github fa-fw"></i></a></li>
                        <li><a target="_blank" rel="nofollow" href="https://www.zhihu.com/people/ender-95-27" title="Ender"><i class="fab fa-zhihu fa-fw"></i></a></li>
                    </ul>
                    <ul class="kratos-copyright">
                        <div>
                            <li><i class='fas fa-fan fa-spin fa-fw'></i> 努力运行<span id="span_dt">Loading...</span></li>
                        </div>
                        <div>
                            <li>Theme <a href="https://github.com/Candinya/Kratos-Rebirth" target="_blank">Kratos-Rebirth</a></li>
                            <li>Powered by <a href="https://hexo.io" target="_blank" rel="nofollow">Hexo</a></li>
                        </div>
                        <div>
                            
                            
                        </div>
                        <div>
                            <li>&copy; 2021 Ender 版权所有.</li>
                        </div>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</footer>
</div>
</div>

        <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.4/dist/js/bootstrap.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.js"></script>
<script>const notMobile = (!(navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)));</script>

    <div>
        <canvas id="snow"></canvas>
        <script async type="text/javascript" src="/js/snow.js"></script>
    </div>

<script async src="/js/candy.js"></script>


    <script defer src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>

<script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script>
<script defer src="/js/kratosr.js"></script>
<script defer src="/js/pjax.js"></script>

    <script defer src="https://cdn.jsdelivr.net/npm/layui-src@2.5.5/dist/layui.all.js"></script>


    <script defer src="/js/kr-dark.js"></script>



<!-- Extra support for third-party plguins  -->

    <script>
    // Initialize
    const init = () => {
        mermaid.initialize({theme: 'dark'});
    };
    const reload = () => {
        mermaid.init(undefined, ".mermaid");
    };
    if (typeof mermaid == 'undefined') {
        const src = 'https://unpkg.com/mermaid@7.1.2/dist/mermaid.min.js';
        $.getScript(src, init);
    }
    // Set PJAX callback function
    window.addEventListener('pjax:complete', reload);
</script>


    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="https://cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
</html>